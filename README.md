## Инструкция по запуску воркеров
В сервисе реализовано два воркера, оба хранятся в app.clients.worker

### moderation_worker
Основной воркер, который читает сообщения из топика "moderation". 
Запуск ```python -m app.workers.moderation_worker```
#### Успешный кейс:
- сообщение прочитано
- получено предсказание посредством вызова simple predict из сервиса
- обновлена запись в бд со статусом "completed"
- сделан коммит

#### Неуспешный кейс:
- сообщение прочитано
- в процессе обработки возникла ошибка
- сообщение отправлено в топик "retry_moderation" с attempt+1
- сделан коммит

### retry_oderation_worker
Воркер для обработки сообщений с ошибками.
Запуск ```python -m app.workers.retry_moderation_worker```
- сообщение прочитано
- задержка на retry_delay_seconds
- если attempt <= max_attempts, то отправка в топик "moderation" для попытки повторной обработки
- иначе отправка в dlq и обновление таблицы moderation_results со статусом "failed"


![alt text](<Снимок экрана 2026-02-13 в 00.17.22.png>)